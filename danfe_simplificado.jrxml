<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="danfe_simplificado" pageWidth="283" pageHeight="403" columnWidth="267" leftMargin="8" rightMargin="8" topMargin="8" bottomMargin="8">
	<property name="ireport.zoom" value="1.6528925619834882"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="br.com.sankhya.datasource.xml.query" value="SELECT XML FROM TGFNFE WHERE NUNOTA = $P{NUNOTA}"/>
	<property name="br.com.sankhya.datasource.xml.date.pattern" value="yyyy-MM-dd"/>
	<property name="br.com.sankhya.datasource.xml.number.pattern" value="#,##0.00"/>
	<property name="br.com.sankhya.datasource.xml.locale" value="en_US"/>
	<property name="ireport.definition"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="com.sankhya.util.*"/>
	<import value="br.com.sankhya.util.*"/>
	<import value="java.util.*"/>
	<import value="br.com.sankhya.jasperfuncs.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="Table Dataset 1"/>
	<subDataset name="Table Dataset 2"/>
	<parameter name="NUNOTA" class="java.math.BigDecimal"/>
	<parameter name="IMPITENSNFE" class="java.math.BigDecimal" isForPrompting="false"/>
	<parameter name="JDBC_CONNECTION" class="java.sql.Connection" isForPrompting="false">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString language="xPath">
		<![CDATA[//infNFe]]>
	</queryString>
	<field name="Id" class="java.lang.String">
		<fieldDescription><![CDATA[@Id]]></fieldDescription>
	</field>
	<field name="HoraEntradaSaida" class="java.lang.String">
		<fieldDescription><![CDATA[ide/hSaiEnt]]></fieldDescription>
	</field>
	<field name="RazaoSocialDestinatario" class="java.lang.String">
		<fieldDescription><![CDATA[dest/xNome]]></fieldDescription>
	</field>
	<field name="CpfDestinatario" class="java.lang.String">
		<fieldDescription><![CDATA[dest/CPF]]></fieldDescription>
	</field>
	<field name="SerieNota" class="java.lang.String">
		<fieldDescription><![CDATA[ide/serie]]></fieldDescription>
	</field>
	<field name="DataEmissao" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[ide/dEmi]]></fieldDescription>
	</field>
	<field name="CnpjDestinatario" class="java.lang.String">
		<fieldDescription><![CDATA[dest/CNPJ]]></fieldDescription>
	</field>
	<field name="InscricaoEstadualDestinatario" class="java.lang.String">
		<fieldDescription><![CDATA[dest/IE]]></fieldDescription>
	</field>
	<field name="LogradouroDestinatario" class="java.lang.String">
		<fieldDescription><![CDATA[dest/enderDest/xLgr]]></fieldDescription>
	</field>
	<field name="NumeroDestinatario" class="java.lang.String">
		<fieldDescription><![CDATA[dest/enderDest/nro]]></fieldDescription>
	</field>
	<field name="ComplementoDestinatario" class="java.lang.String">
		<fieldDescription><![CDATA[emit/enderEmit/xCpl]]></fieldDescription>
	</field>
	<field name="UfDestinatario" class="java.lang.String">
		<fieldDescription><![CDATA[dest/enderDest/UF]]></fieldDescription>
	</field>
	<field name="CepDestinatario" class="java.lang.String">
		<fieldDescription><![CDATA[dest/enderDest/CEP]]></fieldDescription>
	</field>
	<field name="InscricaoEstadualEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/IE]]></fieldDescription>
	</field>
	<field name="CnpjEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/CNPJ]]></fieldDescription>
	</field>
	<field name="CpfEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/CPF]]></fieldDescription>
	</field>
	<field name="RazaoSocialEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/xNome]]></fieldDescription>
	</field>
	<field name="LogradouroEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/enderEmit/xLgr]]></fieldDescription>
	</field>
	<field name="NumeroEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/enderEmit/nro]]></fieldDescription>
	</field>
	<field name="ComplementoEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/enderEmit/xCpl]]></fieldDescription>
	</field>
	<field name="BairroEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/enderEmit/xBairro]]></fieldDescription>
	</field>
	<field name="MunicipioEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/enderEmit/xMun]]></fieldDescription>
	</field>
	<field name="UfEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/enderEmit/UF]]></fieldDescription>
	</field>
	<field name="FoneEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/enderEmit/fone]]></fieldDescription>
	</field>
	<field name="CepEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[emit/enderEmit/CEP]]></fieldDescription>
	</field>
	<field name="NumeroNota" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[ide/nNF]]></fieldDescription>
	</field>
	<field name="CodigoProduto" class="java.lang.String">
		<fieldDescription><![CDATA[prod/cProd]]></fieldDescription>
	</field>
	<field name="ValorNotaFiscal" class="java.lang.String">
		<fieldDescription><![CDATA[total/ICMSTot/vNF]]></fieldDescription>
	</field>
	<field name="MunicipioDestinatario" class="java.lang.String">
		<fieldDescription><![CDATA[dest/enderDest/xMun]]></fieldDescription>
	</field>
	<field name="BairroDestinatario" class="java.lang.String">
		<fieldDescription><![CDATA[dest/enderDest/xBairro]]></fieldDescription>
	</field>
	<field name="TipoNotaFiscal" class="java.lang.String">
		<fieldDescription><![CDATA[ide/tpNF]]></fieldDescription>
	</field>
	<field name="TipoEmissao" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[ide/tpEmis]]></fieldDescription>
	</field>
	<field name="Transportadora" class="java.lang.String">
		<fieldDescription><![CDATA[/nfeProc/NFe/infNFe/transp/transporta/xNome]]></fieldDescription>
	</field>
	<field name="Vendedor" class="java.lang.String">
		<fieldDescription><![CDATA[/nfeProc/NFe/infNFe/infIntermed/idCadIntTran]]></fieldDescription>
	</field>
	<field name="idCadIntTran" class="java.lang.String">
		<fieldDescription><![CDATA[/nfeProc/NFe/infNFe/infIntermed/idCadIntTran]]></fieldDescription>
	</field>
	<field name="xNome" class="java.lang.String">
		<fieldDescription><![CDATA[/nfeProc/NFe/infNFe/transp/transporta/xNome]]></fieldDescription>
	</field>
	<field name="cNF" class="java.lang.String">
		<fieldDescription><![CDATA[/nfeProc/NFe/infNFe/ide/cNF]]></fieldDescription>
	</field>
	<field name="modFrete" class="java.lang.String">
		<fieldDescription><![CDATA[/nfeProc/NFe/infNFe/transp/modFrete]]></fieldDescription>
	</field>
	<field name="IEST" class="java.lang.String">
		<fieldDescription><![CDATA[emit/IEST]]></fieldDescription>
	</field>
	<variable name="infoEntrega" class="java.lang.String">
		<variableExpression><![CDATA[(
    "Endereço: " + br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION},
    "E.CODLOGRADOURO, E.NOMEEND, CTT.NUMEND, BAI.NOMEBAI, CTT.CEP, CID.NOMECID, UFS.UF",
    "TGFCAB CAB INNER JOIN TGFPAR PAR ON (PAR.CODPARC = CAB.CODPARC) INNER JOIN TGFCTT CTT ON (CTT.CODPARC = PAR.CODPARC AND CTT.CODCONTATO = CAB.CODCONTATOENTREGA) INNER JOIN TSIEND E ON (E.CODEND = CTT.CODEND) INNER JOIN TSIBAI BAI ON (BAI.CODBAI = CTT.CODBAI) INNER JOIN TSICID CID ON (CID.CODCID = CTT.CODCID) INNER JOIN TSIUFS UFS ON (UFS.CODUF = CID.UF)",
    "CAB.NUNOTA=" + $P{NUNOTA})
)]]></variableExpression>
	</variable>
	<title>
		<band height="387" splitType="Prevent">
			<rectangle>
				<reportElement x="0" y="115" width="267" height="20"/>
			</rectangle>
			<rectangle>
				<reportElement x="0" y="135" width="267" height="23"/>
			</rectangle>
			<rectangle>
				<reportElement x="98" y="135" width="53" height="23"/>
			</rectangle>
			<rectangle>
				<reportElement x="0" y="239" width="267" height="148"/>
			</rectangle>
			<rectangle>
				<reportElement x="0" y="168" width="267" height="61"/>
			</rectangle>
			<image scaleImage="RetainShape" isUsingCache="false">
				<reportElement mode="Transparent" x="90" y="46" width="80" height="80" forecolor="#000000"/>
				<imageExpression class="java.awt.Image"><![CDATA[QRcodeUtil.generate($F{Id}.substring( 3 ),128,128)]]></imageExpression>
			</image>
			<rectangle>
				<reportElement mode="Transparent" x="0" y="24" width="267" height="91"/>
			</rectangle>
			<textField pattern="##.##.##.##.##.###.###/####-##-###.###.###-###-###.###.###-#" isBlankWhenNull="true">
				<reportElement key="textField-40" x="0" y="50" width="267" height="9"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[DanfeUtils.formatChaveNFe($F{Id}.substring( 3 ))]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="0" width="267" height="13"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid"/>
					<leftPen lineWidth="1.0" lineStyle="Solid"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					<rightPen lineWidth="1.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[DANFE Simplificado - Etiqueta]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="13" width="267" height="11"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[  CHAVE DE ACESSO:]]></text>
			</staticText>
			<componentElement>
				<reportElement stretchType="RelativeToBandHeight" x="2" y="28" width="265" height="21"/>
				<jr:barbecue xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" type="Code128" drawText="false" checksumRequired="false" barWidth="5" barHeight="150">
					<jr:codeExpression><![CDATA[$F{Id}.substring( 3 )]]></jr:codeExpression>
				</jr:barbecue>
			</componentElement>
			<textField pattern="000,000,000" isBlankWhenNull="true">
				<reportElement key="textField-36" x="1" y="147" width="37" height="10"/>
				<box leftPadding="3"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="false" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Série: " + StringUtils.getNullAsEmpty($F{SerieNota})]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-22" x="59" y="136" width="38" height="12"/>
				<box leftPadding="3"/>
				<textElement verticalAlignment="Top">
					<font fontName="Arial" size="5" pdfFontName="Helvetica"/>
				</textElement>
				<text><![CDATA[0 - ENTRADA
1 - SAÍDA]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-41" x="98" y="135" width="53" height="10"/>
				<box leftPadding="2"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Data de emissão:]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement key="fieldDtEmissao" x="98" y="147" width="53" height="10"/>
				<box leftPadding="3" rightPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.sql.Timestamp"><![CDATA[$F{DataEmissao}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="labelHoraSaida" x="153" y="135" width="54" height="10"/>
				<box leftPadding="2"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Hora da emissão:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement key="fieldHoraSaida" x="153" y="147" width="53" height="10"/>
				<box leftPadding="2" rightPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{HoraEntradaSaida}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="158" width="267" height="10"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[EMITENTE]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-31" x="3" y="169" width="78" height="8"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[NOME/RAZÃO SOCIAL:]]></text>
			</staticText>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-86" x="82" y="169" width="126" height="8"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="false" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{RazaoSocialEmitente}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-31" x="3" y="177" width="28" height="8"/>
				<box leftPadding="2"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[CNPJ:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement key="fieldCnpj" x="35" y="177" width="141" height="8"/>
				<box leftPadding="3" rightPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="false" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[StringUtils.isEmpty($F{CnpjEmitente}) ?
DanfeUtils.formatCnpj($F{CpfEmitente}) :
DanfeUtils.formatCnpj($F{CnpjEmitente})]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-31" x="3" y="186" width="28" height="8"/>
				<box leftPadding="2"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[IE:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement key="fieldInscricaoEstadual" x="35" y="185" width="141" height="8"/>
				<box leftPadding="3" rightPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{InscricaoEstadualEmitente}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-87" x="3" y="195" width="205" height="22"/>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Arial" size="6" isBold="false" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{LogradouroEmitente} + " Nº " + $F{NumeroEmitente} +
 ($F{ComplementoEmitente} != null ? " - " + $F{ComplementoEmitente} : "") +
 "\nBairro: " + $F{BairroEmitente} + ",  " + $F{MunicipioEmitente} + " - " + $F{UfEmitente} +
 "\nCEP: " + DanfeUtils.formatCep($F{CepEmitente})]]></textFieldExpression>
			</textField>
			<textField pattern="000,000,000" isBlankWhenNull="true">
				<reportElement key="textField-35" x="1" y="136" width="58" height="10"/>
				<box leftPadding="3"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" isItalic="false" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Nº " + DanfeUtils.formatNumeroNota($F{NumeroNota})]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-31" x="3" y="242" width="70" height="8"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[NOME/RAZÃO SOCIAL:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement key="fieldRazaoSocial" stretchType="RelativeToTallestObject" x="74" y="242" width="160" height="21"/>
				<box leftPadding="3" rightPadding="2"/>
				<textElement verticalAlignment="Top">
					<font fontName="Arial" size="7" isBold="true" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{RazaoSocialDestinatario}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-31" x="3" y="263" width="21" height="9"/>
				<box leftPadding="2"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[CNPJ:]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-31" x="3" y="272" width="12" height="8"/>
				<box leftPadding="2"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[IE:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement key="fieldCnpjCpf" x="24" y="263" width="210" height="9"/>
				<box leftPadding="3" rightPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="7" isBold="true" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[StringUtils.isEmpty($F{CpfDestinatario}) ?
DanfeUtils.formatCnpj($F{CnpjDestinatario}) :
DanfeUtils.formatCnpj($F{CpfDestinatario})]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="fieldInscricaoEstadualDest" x="15" y="272" width="219" height="8"/>
				<box leftPadding="3" rightPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{InscricaoEstadualDestinatario}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="229" width="267" height="10"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[DESTINATÁRIO]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement key="fieldEnderecoDest" x="3" y="282" width="262" height="22"/>
				<box leftPadding="3" rightPadding="2"/>
				<textElement verticalAlignment="Top">
					<font fontName="Arial" size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{LogradouroDestinatario} + " Nº " + $F{NumeroDestinatario} +
($F{ComplementoDestinatario} != null ? " - " + $F{ComplementoDestinatario} : "") +
"\nBairro: " + $F{BairroDestinatario} + ",  " + $F{MunicipioDestinatario} + " - " +
$F{UfDestinatario} +
"\nCEP: " + DanfeUtils.formatCep($F{CepDestinatario})]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-39" x="63" y="150" width="11" height="6"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid"/>
					<leftPen lineWidth="0.5" lineStyle="Solid"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid"/>
					<rightPen lineWidth="0.5" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="5" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{TipoNotaFiscal}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="labelProtocoloAutorizacao" x="2" y="116" width="199" height="7"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Bottom">
					<font fontName="Arial" size="6" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{TipoEmissao}.intValue() == 2 ?
    "DADOS DA NF-e" :
    ($F{TipoEmissao}.intValue() == 4 ?
        "REGISTRO DA EPEC" :
        "PROTOCOLO DE AUTORIZAÇÃO DE USO"
    )]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="fieldProtocoloAutorizacao" x="1" y="125" width="160" height="7"/>
				<box leftPadding="3" rightPadding="2"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="6" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[DanfeUtils.getProtocolo($P{NUNOTA}, $P{JDBC_CONNECTION})]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-86" x="234" y="242" width="32" height="10"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="7" isBold="true" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION} ,
    "CASE WHEN TIPMOV = 'T' AND CODPARC = 0 AND CODEMPNEGOC <> 0 THEN CODEMPNEGOC ELSE CODPARC END" ,
    "TGFCAB" ,
    "NUNOTA=" + $P{NUNOTA}
)]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-86" stretchType="RelativeToBandHeight" x="68" y="369" width="197" height="8"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="false" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Vendedor: " + br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION} ,
    "VEN.APELIDO" ,
    "TGFCAB CAB INNER JOIN TGFVEN VEN ON VEN.CODVEND = CAB.CODVEND" ,
    "NUNOTA=" + $P{NUNOTA}
)+". " + "Qtd. Vol.: " + br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION},
    "QTDVOL",
    "TGFCAB",
    "NUNOTA =" + $P{NUNOTA}
)]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-31" x="3" y="369" width="64" height="8"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[DADOS ADICIONAIS:]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-31" x="3" y="361" width="64" height="8"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[TRANSPORTADORA:]]></text>
			</staticText>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-86" stretchType="RelativeToBandHeight" x="68" y="361" width="197" height="8"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="false" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION} ,
    "PAR.NOMEPARC" ,
    "TGFCAB CAB INNER JOIN TGFPAR PAR ON PAR.CODPARC = CAB.CODPARCTRANSP" ,
    "NUNOTA=" + $P{NUNOTA}
)]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="3" y="377" width="262" height="8" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement verticalAlignment="Bottom" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="Arial" size="6" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Impresso por " + br.com.sankhya.jasperfuncs.Funcoes.pdes($P{JDBC_CONNECTION} ,
    "NOMEUSU",
    "TSIUSU U",
    "U.CODUSU = STP_GET_CODUSULOGADO")

+" em "+(new SimpleDateFormat("dd/MM/yyyy 'às' HH:mm:ss").format(new java.util.Date()))]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="305" width="267" height="10"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[INFORMAÇÕES DO LOCAL DE ENTREGA]]></text>
			</staticText>
			<textField>
				<reportElement stretchType="RelativeToBandHeight" x="3" y="316" width="262" height="41">
					<printWhenExpression><![CDATA[(br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION} ,
    "CODCONTATOENTREGA",
    "TGFCAB" ,
    "NUNOTA=" + $P{NUNOTA}
).length() > 0 )]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[(
  br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION},
    "E.CODLOGRADOURO",
    "TGFCAB CAB INNER JOIN TGFPAR PAR ON (PAR.CODPARC = CAB.CODPARC) INNER JOIN TGFCTT CTT ON (CTT.CODPARC = PAR.CODPARC AND CTT.CODCONTATO = CAB.CODCONTATOENTREGA) INNER JOIN TSIEND E ON (E.CODEND = CTT.CODEND) INNER JOIN TSIBAI BAI ON (BAI.CODBAI = CTT.CODBAI) INNER JOIN TSICID CID ON (CID.CODCID = CTT.CODCID) INNER JOIN TSIUFS UFS ON (UFS.CODUF = CID.UF)",
    "CAB.NUNOTA=" + $P{NUNOTA})+" "+br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION},
    "E.NOMEEND",
    "TGFCAB CAB INNER JOIN TGFPAR PAR ON (PAR.CODPARC = CAB.CODPARC) INNER JOIN TGFCTT CTT ON (CTT.CODPARC = PAR.CODPARC AND CTT.CODCONTATO = CAB.CODCONTATOENTREGA) INNER JOIN TSIEND E ON (E.CODEND = CTT.CODEND) INNER JOIN TSIBAI BAI ON (BAI.CODBAI = CTT.CODBAI) INNER JOIN TSICID CID ON (CID.CODCID = CTT.CODCID) INNER JOIN TSIUFS UFS ON (UFS.CODUF = CID.UF)",
    "CAB.NUNOTA=" + $P{NUNOTA})+" Nº: "+br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION},
    "CTT.NUMEND",
    "TGFCAB CAB INNER JOIN TGFPAR PAR ON (PAR.CODPARC = CAB.CODPARC) INNER JOIN TGFCTT CTT ON (CTT.CODPARC = PAR.CODPARC AND CTT.CODCONTATO = CAB.CODCONTATOENTREGA) INNER JOIN TSIEND E ON (E.CODEND = CTT.CODEND) INNER JOIN TSIBAI BAI ON (BAI.CODBAI = CTT.CODBAI) INNER JOIN TSICID CID ON (CID.CODCID = CTT.CODCID) INNER JOIN TSIUFS UFS ON (UFS.CODUF = CID.UF)",
    "CAB.NUNOTA=" + $P{NUNOTA})+", "+br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION},
    "BAI.NOMEBAI",
    "TGFCAB CAB INNER JOIN TGFPAR PAR ON (PAR.CODPARC = CAB.CODPARC) INNER JOIN TGFCTT CTT ON (CTT.CODPARC = PAR.CODPARC AND CTT.CODCONTATO = CAB.CODCONTATOENTREGA) INNER JOIN TSIEND E ON (E.CODEND = CTT.CODEND) INNER JOIN TSIBAI BAI ON (BAI.CODBAI = CTT.CODBAI) INNER JOIN TSICID CID ON (CID.CODCID = CTT.CODCID) INNER JOIN TSIUFS UFS ON (UFS.CODUF = CID.UF)",
    "CAB.NUNOTA=" + $P{NUNOTA})+", CEP: "+br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION},
    "CTT.CEP",
    "TGFCAB CAB INNER JOIN TGFPAR PAR ON (PAR.CODPARC = CAB.CODPARC) INNER JOIN TGFCTT CTT ON (CTT.CODPARC = PAR.CODPARC AND CTT.CODCONTATO = CAB.CODCONTATOENTREGA) INNER JOIN TSIEND E ON (E.CODEND = CTT.CODEND) INNER JOIN TSIBAI BAI ON (BAI.CODBAI = CTT.CODBAI) INNER JOIN TSICID CID ON (CID.CODCID = CTT.CODCID) INNER JOIN TSIUFS UFS ON (UFS.CODUF = CID.UF)",
    "CAB.NUNOTA=" + $P{NUNOTA})+", "+br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION},
    "CID.NOMECID",
    "TGFCAB CAB INNER JOIN TGFPAR PAR ON (PAR.CODPARC = CAB.CODPARC) INNER JOIN TGFCTT CTT ON (CTT.CODPARC = PAR.CODPARC AND CTT.CODCONTATO = CAB.CODCONTATOENTREGA) INNER JOIN TSIEND E ON (E.CODEND = CTT.CODEND) INNER JOIN TSIBAI BAI ON (BAI.CODBAI = CTT.CODBAI) INNER JOIN TSICID CID ON (CID.CODCID = CTT.CODCID) INNER JOIN TSIUFS UFS ON (UFS.CODUF = CID.UF)",
    "CAB.NUNOTA=" + $P{NUNOTA})+", "+br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION},
    "UFS.UF",
    "TGFCAB CAB INNER JOIN TGFPAR PAR ON (PAR.CODPARC = CAB.CODPARC) INNER JOIN TGFCTT CTT ON (CTT.CODPARC = PAR.CODPARC AND CTT.CODCONTATO = CAB.CODCONTATOENTREGA) INNER JOIN TSIEND E ON (E.CODEND = CTT.CODEND) INNER JOIN TSIBAI BAI ON (BAI.CODBAI = CTT.CODBAI) INNER JOIN TSICID CID ON (CID.CODCID = CTT.CODCID) INNER JOIN TSIUFS UFS ON (UFS.CODUF = CID.UF)",
    "CAB.NUNOTA=" + $P{NUNOTA})+". "+br.com.sankhya.jasperfuncs.Funcoes.pdes(
    $P{JDBC_CONNECTION},
    "CTT.COMPLEMENTO",
    "TGFCAB CAB INNER JOIN TGFPAR PAR ON (PAR.CODPARC = CAB.CODPARC) INNER JOIN TGFCTT CTT ON (CTT.CODPARC = PAR.CODPARC AND CTT.CODCONTATO = CAB.CODCONTATOENTREGA) INNER JOIN TSIEND E ON (E.CODEND = CTT.CODEND) INNER JOIN TSIBAI BAI ON (BAI.CODBAI = CTT.CODBAI) INNER JOIN TSICID CID ON (CID.CODCID = CTT.CODCID) INNER JOIN TSIUFS UFS ON (UFS.CODUF = CID.UF)",
    "CAB.NUNOTA=" + $P{NUNOTA})
)]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-31" x="3" y="217" width="28" height="8"/>
				<box leftPadding="2"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[IEST:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement key="fieldInscricaoEstadual" x="35" y="217" width="141" height="8"/>
				<box leftPadding="3" rightPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="6" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{IEST}]]></textFieldExpression>
			</textField>
		</band>
	</title>
</jasperReport>
